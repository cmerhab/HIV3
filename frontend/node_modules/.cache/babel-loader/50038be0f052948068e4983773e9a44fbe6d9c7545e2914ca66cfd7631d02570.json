{"ast":null,"code":"import{useContext,createContext,useEffect,useState}from'react';import{GoogleAuthProvider,signInWithPopup,signInWithRedirect,signOut,onAuthStateChanged}from'firebase/auth';import{auth}from'../firebase';import{jsx as _jsx}from\"react/jsx-runtime\";const AuthContext=/*#__PURE__*/createContext();export const AuthContextProvider=_ref=>{let{children}=_ref;const[user,setUser]=useState({});const googleSignIn=()=>{const provider=new GoogleAuthProvider();//signInWithPopup(auth, provider);\nsignInWithRedirect(auth,provider);//Popup = reccomended for desktop\n//Redirect = reccomended for mobile\n};const logOut=()=>{signOut(auth);};useEffect(()=>{//Detect and Retrieve User Data in console\nconst unsubscribe=onAuthStateChanged(auth,currentUser=>{setUser(currentUser);console.log('User',currentUser);});return()=>{unsubscribe();};},[]);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{googleSignIn,logOut,user},children:children});};export const UserAuth=()=>{return useContext(AuthContext);};","map":{"version":3,"names":["useContext","createContext","useEffect","useState","GoogleAuthProvider","signInWithPopup","signInWithRedirect","signOut","onAuthStateChanged","auth","jsx","_jsx","AuthContext","AuthContextProvider","_ref","children","user","setUser","googleSignIn","provider","logOut","unsubscribe","currentUser","console","log","Provider","value","UserAuth"],"sources":["/Users/cmerhab/Desktop/React/Hiv3/src/context/AuthContext.js"],"sourcesContent":["import { useContext, createContext, useEffect, useState } from 'react';\nimport { \n    GoogleAuthProvider, \n    signInWithPopup, \n    signInWithRedirect, \n    signOut, \n    onAuthStateChanged \n} from 'firebase/auth';\nimport {auth} from '../firebase'\n\nconst AuthContext = createContext();\n\nexport const AuthContextProvider = ({children}) => {\n    const [user, setUser] = useState({});\n    const googleSignIn = () => {\n        const provider = new GoogleAuthProvider();\n        //signInWithPopup(auth, provider);\n        signInWithRedirect(auth, provider); \n        //Popup = reccomended for desktop\n        //Redirect = reccomended for mobile\n    };\n\n    const logOut = () => {\n        signOut(auth)\n    }\n    useEffect(()=>{ //Detect and Retrieve User Data in console\n        const unsubscribe = onAuthStateChanged(auth, (currentUser)=>{\n            setUser(currentUser);\n            console.log('User', currentUser)\n        });\n        return () => {\n            unsubscribe();\n        }\n    },[])\n\n    return (\n    <AuthContext.Provider value={{googleSignIn, logOut, user}}>\n        {children}\n    </AuthContext.Provider>\n    );\n};\nexport const UserAuth = () => {\n    return useContext(AuthContext)\n}"],"mappings":"AAAA,OAASA,UAAU,CAAEC,aAAa,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACtE,OACIC,kBAAkB,CAClBC,eAAe,CACfC,kBAAkB,CAClBC,OAAO,CACPC,kBAAkB,KACf,eAAe,CACtB,OAAQC,IAAI,KAAO,aAAa,QAAAC,GAAA,IAAAC,IAAA,yBAEhC,KAAM,CAAAC,WAAW,cAAGX,aAAa,CAAC,CAAC,CAEnC,MAAO,MAAM,CAAAY,mBAAmB,CAAGC,IAAA,EAAgB,IAAf,CAACC,QAAQ,CAAC,CAAAD,IAAA,CAC1C,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGd,QAAQ,CAAC,CAAC,CAAC,CAAC,CACpC,KAAM,CAAAe,YAAY,CAAGA,CAAA,GAAM,CACvB,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAf,kBAAkB,CAAC,CAAC,CACzC;AACAE,kBAAkB,CAACG,IAAI,CAAEU,QAAQ,CAAC,CAClC;AACA;AACJ,CAAC,CAED,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACjBb,OAAO,CAACE,IAAI,CAAC,CACjB,CAAC,CACDP,SAAS,CAAC,IAAI,CAAE;AACZ,KAAM,CAAAmB,WAAW,CAAGb,kBAAkB,CAACC,IAAI,CAAGa,WAAW,EAAG,CACxDL,OAAO,CAACK,WAAW,CAAC,CACpBC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAEF,WAAW,CAAC,CACpC,CAAC,CAAC,CACF,MAAO,IAAM,CACTD,WAAW,CAAC,CAAC,CACjB,CAAC,CACL,CAAC,CAAC,EAAE,CAAC,CAEL,mBACAV,IAAA,CAACC,WAAW,CAACa,QAAQ,EAACC,KAAK,CAAE,CAACR,YAAY,CAAEE,MAAM,CAAEJ,IAAI,CAAE,CAAAD,QAAA,CACrDA,QAAQ,CACS,CAAC,CAE3B,CAAC,CACD,MAAO,MAAM,CAAAY,QAAQ,CAAGA,CAAA,GAAM,CAC1B,MAAO,CAAA3B,UAAU,CAACY,WAAW,CAAC,CAClC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}